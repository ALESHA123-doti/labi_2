{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <div class="header-container">
        <h1>Мои статьи</h1>
        <div class="user-actions">
            <span>Привет, {{ login }}!</span>
            <a href="{{ url_for('lab5.create') }}" class="btn btn-primary">Новая статья</a>
            <a href="{{ url_for('lab5.logout') }}" class="btn btn-secondary">Выйти</a>
        </div>
    </div>

    {% if articles %}
        <div class="articles-list">
            {% for article in articles %}
                <div class="article-card">
                    <div class="article-header">
                        <h3>{{ article.title }}</h3>
                        <div class="article-actions">
                            <a href="{{ url_for('lab5.edit_article', article_id=article.id) }}" class="btn btn-edit">Редактировать</a>
                            <a href="{{ url_for('lab5.delete_article', article_id=article.id) }}" 
                               class="btn btn-delete" 
                               onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">Удалить</a>
                        </div>
                    </div>
                    <div class="article-content">
                        <p>{{ article.article_text }}</p>
                    </div>
                    <div class="article-footer">
                        <small>ID: {{ article.id }}</small>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-articles">
            <p>У вас пока нет ни одной статьи.</p>
            <a href="{{ url_for('lab5.create') }}" class="btn btn-primary">Создать первую статью</a>
        </div>
    {% endif %}
{% endblock %}